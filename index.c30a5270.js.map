{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-8ca9bb49817fa269.js","src/js/aside-categories.js","node_modules/@parcel/runtime-js/lib/runtime-321e598e347b1222.js","node_modules/@parcel/runtime-js/lib/runtime-d3741b82b52b7e44.js","node_modules/@parcel/runtime-js/lib/runtime-c621af5863f3cdcf.js","node_modules/@parcel/runtime-js/lib/runtime-a5c67a0761547111.js","node_modules/@parcel/runtime-js/lib/runtime-c7155fb788e5e02a.js","node_modules/@parcel/runtime-js/lib/runtime-a4b1b979edd938e8.js","node_modules/@parcel/runtime-js/lib/runtime-48573d846952319b.js","node_modules/@parcel/runtime-js/lib/runtime-0d6852c69a5859da.js","src/js/modal-window.js","node_modules/@parcel/runtime-js/lib/runtime-dfc7d737be75d83f.js","node_modules/@parcel/runtime-js/lib/runtime-e090d284248cb72e.js","node_modules/@parcel/runtime-js/lib/runtime-4b064fc00f854ac5.js","node_modules/@parcel/runtime-js/lib/runtime-98b3db33fd619fb2.js","node_modules/@parcel/runtime-js/lib/runtime-dab1a06fa9659a97.js","node_modules/@parcel/runtime-js/lib/runtime-fab5cfc97a31dada.js","node_modules/@parcel/runtime-js/lib/runtime-efa2c4e7146f37df.js","src/js/templates/empty-category-markup.js","node_modules/@parcel/runtime-js/lib/runtime-2770e2f1348f4549.js","src/js/templates/create-categories.js","src/js/main-page.js","src/js/templates/create-book.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7bk21\\\":\\\"index.c30a5270.js\\\",\\\"7QMdA\\\":\\\"amazon.3c3f1cde.webp\\\",\\\"CgNCO\\\":\\\"amazon.b0a6f23c.png\\\",\\\"3CFHC\\\":\\\"apple.78ef44cc.webp\\\",\\\"hYuvF\\\":\\\"apple.34efda77.png\\\",\\\"lKiFj\\\":\\\"bookshop.bf5b4137.webp\\\",\\\"1dJFY\\\":\\\"bookshop.11f8a97b.png\\\",\\\"iu8al\\\":\\\"amazon-white.a48dbe32.png\\\",\\\"gt6ml\\\":\\\"amazon-white.1297bb22.webp\\\",\\\"aK5fH\\\":\\\"books_322_@1.756abb35.webp\\\",\\\"jzumu\\\":\\\"books_322_@2.061cea98.webp\\\",\\\"9XvFm\\\":\\\"books_322_@1.9d82d098.png\\\",\\\"2Qp9q\\\":\\\"books_322_@2.80ece8cf.png\\\",\\\"9P9hu\\\":\\\"books_265_@1.88805d0a.webp\\\",\\\"fKwqX\\\":\\\"books_265_@2.2708f99b.webp\\\",\\\"5vwjB\\\":\\\"books_265_@1.6c062fbc.png\\\",\\\"2gN6y\\\":\\\"books_265_@2.28750540.png\\\",\\\"cjv10\\\":\\\"shopping-list.64f84957.js\\\"}\"));","import { SwaggerAPI } from './swagger-api';\nimport createCategoriesMarkup from './templates/create-categories';\nimport addListener from './modal-window.js';\nimport emptySeeMoreBooksMarkup from './templates/empty-category-markup';\n\nconst categoriesList = document.querySelector('.aside-list');\nconst categoriesTitle = document.querySelector('.aside-title');\nconst renderingCategories = document.querySelector('.main-content');\nconst loader = document.querySelector('.click-loader');\n\nconst swaggerCategoriesApi = new SwaggerAPI();\n\nconst createCategoriesItem = async () => {\n  try {\n    const { data } = await swaggerCategoriesApi.fetchBooksCategoryList();\n    const searchCategory = data\n      .map(category => {\n        return `<li class=\"aside-item\"><a class=\"aside-link\"  aria-label=\"${category.list_name}\">${category.list_name}</a></li>`;\n      })\n      .join('');\n    categoriesList.innerHTML = searchCategory;\n  } catch (error) {\n    console.log(error);\n  }\n};\ncreateCategoriesItem();\n\nlet activeCategoryLink = null;\n\n//ф-я відображення книг\nconst onCategoriesLinkClick = event => {\n  if (event.target.nodeName !== 'A') {\n    return;\n  }\n\n  const value = event.target.textContent;\n  swaggerCategoriesApi.categoryName = value;\n\n  if (activeCategoryLink) {\n    activeCategoryLink.classList.remove('active');\n  }\n\n  activeCategoryLink = event.target;\n  activeCategoryLink.classList.add('active');\n  categoriesTitle.classList.remove('active');\n\n  const createMarkupCategories = async () => {\n    loader.classList.remove('click-is-hidden');\n    try {\n      setTimeout(async () => {\n        const { data } = await swaggerCategoriesApi.fetchBooksByCategory(value);\n        if (data.length === 0) {\n          renderingCategories.innerHTML = emptySeeMoreBooksMarkup();\n          return;\n        }\n        const listName = data[0].list_name;\n\n        const words = listName.split(' ');\n        const lastWord = words[words.length - 1];\n        const otherWords = words.slice(0, words.length - 1).join(' ');\n\n        const decoratedListName = `${otherWords} <span class=\"categories-title-decor\">${lastWord}</span>`;\n        renderingCategories.innerHTML = `<h1 class=\"categories-title\">${decoratedListName}</h1> <ul class=\"categories-item\">${createCategoriesMarkup(\n          data\n        )}</ul>`;\n        addListener();\n        renderingCategories.scrollIntoView({\n          behavior: 'smooth',\n        });\n        loader.classList.add('click-is-hidden');\n      }, 250);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  createMarkupCategories();\n};\n\ncategoriesList.addEventListener('click', onCategoriesLinkClick);\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"7QMdA\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"CgNCO\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3CFHC\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"hYuvF\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lKiFj\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1dJFY\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"iu8al\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gt6ml\")).toString();","// -----------images----------\nimport blackAmazonWebp from '../images/shopping/amazon.webp';\nimport blackAmazonPng from '../images/shopping/amazon.png';\nimport apple from '../images/shopping/apple.webp';\nimport applepng from '../images/shopping/apple.png';\nimport bookshop from '../images/shopping/bookshop.webp';\nimport bookshoppng from '../images/shopping/bookshop.png';\nimport whiteAmazonPng from '../images/shopping/amazon-white.png';\nimport whiteAmazonWebp from '../images/shopping/amazon-white.webp';\n// -----------------------------\nimport localStorage from './local-storage.js';\nimport { Notify } from 'notiflix';\nimport { SwaggerAPI } from './swagger-api.js';\nimport { countBook } from './templates/shoppingListCounter';\nimport { updateDatabase } from './templates/firebase';\nconst fetchAPI = new SwaggerAPI();\n\nconst backdrop = document.querySelector('.backdrop');\nconst closeBtn = document.querySelector('.modal-close-btn');\nconst modalShoppingBtn = document.querySelector('.modal-btn');\nconst modalInfo = document.querySelector('.modal-info');\nconst container = document.querySelector('.modal-book');\nconst progressBtn = document.querySelector('#progress');\n\nlet amazonPng = blackAmazonPng;\nlet amazonWebp = blackAmazonWebp;\n\nlet bookApi = {};\n\nexport default function addListener() {\n  const bookContainer = document.querySelectorAll('.book-link');\n  bookContainer.forEach(book =>\n    book.addEventListener('click', onOpenModalWindow)\n  );\n}\n\nasync function onOpenModalWindow(event) {\n  event.preventDefault();\n\n  const htmlElClass = await localStorage.load('theme');\n\n  if (htmlElClass) {\n    amazonPng = whiteAmazonPng;\n    amazonWebp = whiteAmazonWebp;\n  } else {\n    amazonPng = blackAmazonPng;\n    amazonWebp = blackAmazonWebp;\n  }\n\n  document.body.style.overflow = 'hidden';\n  progressBtn.classList.add('is-hidden');\n  backdrop.classList.toggle('is-hidden');\n  backdrop.addEventListener('click', onBackdrop);\n  window.addEventListener('keydown', onEsc);\n  closeBtn.addEventListener('click', onCloseModalWindow);\n  try {\n    fetchAPI.bookId = event.currentTarget.dataset.id;\n    const resp = await fetchAPI.fetchBookById();\n    bookApi = resp.data;\n    createBookMarkup(bookApi);\n    setTimeout(() => {\n      createShoppingBtn(bookApi);\n    }, 0);\n    modalShoppingBtn.addEventListener('click', onUpdateShopList);\n  } catch {\n    Notify.failure(\n      'Oops! Something went wrong. We are sorry for the inconvenience. Please try again later.'\n    );\n  }\n}\n\nasync function createShoppingBtn(data) {\n  const storage = await localStorage.load('bookList');\n  if (!storage || storage.length === 0) {\n    addBtn();\n    return;\n  }\n\n  const addedBook = storage.find(book => book.title === data.title);\n\n  if (addedBook) {\n    removeBtn();\n  } else {\n    addBtn();\n  }\n}\n\nfunction onUpdateShopList() {\n  const storage = localStorage.load('bookList');\n  const title = document.querySelector('.modal-book-name').textContent;\n  if (modalShoppingBtn.textContent === 'add to shopping list') {\n    localStorage.addBookToStorage(bookApi);\n    Notify.info('The book has been added to your shopping cart.');\n    removeBtn();\n    countBook();\n  } else {\n    storage.forEach((book, ind, arr) => {\n      if (book.title === title) {\n        return arr.splice(ind, 1);\n      }\n    });\n\n    localStorage.save('bookList', storage);\n    if (storage.length === 0) {\n      localStorage.remove('bookList');\n    }\n\n    countBook();\n    addBtn();\n    Notify.info('The book has been removed from your shopping cart.');\n  }\n  updateDatabase();\n}\n\nfunction addBtn() {\n  modalShoppingBtn.textContent = 'add to shopping list';\n  modalInfo.style.display = 'none';\n}\n\nfunction removeBtn() {\n  modalShoppingBtn.textContent = 'remove from the shopping list';\n  modalInfo.style.display = 'block';\n}\n\nfunction createBookMarkup(book) {\n  const markup = `<img\nclass=\"modal-img\"\nsrc=${book.book_image}\nalt=\"Book cover\"\n/>\n<div class=\"modal-info-container\">\n<p class=\"modal-book-name\">${book.title}</p>\n<p class=\"modal-book-author\">${book.author}</p>\n<p class=\"modal-list-name is-hidden\">${book.list_name}</p>\n<p class=\"modal-book-desc\">${\n    book.description\n      ? book.description\n      : 'We are pleased to inform you that all information about this book you can found on partner resources (such as Amazon, etc.)'\n  }\n</p>\n<div class=\"modal-icons-container\">\n  <a href=\"${\n    book.buy_links[0].url\n  }\" target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"Amazon\"\n    ><picture class=\"modal-icon\">\n      <source\n        srcset=\"${amazonWebp}\"\n        type=\"image/webp\"\n      />\n      <source\n        srcset=\"${amazonPng}\"\n        type=\"image/png\"\n      />\n      <img\n        src=\"${amazonPng}\"\n        alt=\"Amazon\"\n      /> </picture\n  ></a>\n  <a href=\"${\n    book.buy_links[1].url\n  }\" target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"Apple Books\"\n    ><picture class=\"modal-icon\">\n      <source\n        srcset=\"${apple}\"\n        type=\"image/webp\"\n      />\n      <source\n        srcset=\"${applepng}\"\n        type=\"image/png\"\n      />\n      <img\n        src=\"${applepng}\"\n        alt=\"Apple Books\"\n      /> </picture\n  ></a>\n  <a href=\"${\n    book.buy_links[4].url\n  }\" target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"Bookshop\"\n    ><picture class=\"modal-icon\">\n      <source\n        srcset=\"${bookshop}\"\n        type=\"image/webp\"\n      />\n      <source\n        srcset=\"${bookshoppng}\"\n        type=\"image/png\"\n      />\n      <img\n        src=\"${bookshoppng}\"\n        alt=\"Bookshop\"\n      /></picture\n  ></a>\n</div>\n</div>`;\n  container.innerHTML = markup;\n}\n\nfunction onEsc(event) {\n  if (event.key === 'Escape') {\n    onCloseModalWindow();\n  }\n}\n\nfunction onBackdrop(event) {\n  if (event.target === backdrop) {\n    onCloseModalWindow();\n  }\n}\n\nfunction onCloseModalWindow() {\n  backdrop.classList.toggle('is-hidden');\n  document.body.style.overflow = 'visible';\n  progressBtn.classList.remove('is-hidden');\n  backdrop.removeEventListener('click', onBackdrop);\n  window.removeEventListener('keydown', onEsc);\n  closeBtn.removeEventListener('click', onCloseModalWindow);\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"aK5fH\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"jzumu\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9XvFm\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2Qp9q\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9P9hu\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"fKwqX\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"5vwjB\")).toString();","import book322_1 from '../../images/shopping/books_322_@1.webp';\nimport book322_2 from '../../images/shopping/books_322_@2.webp';\nimport book322_11 from '../../images/shopping/books_322_@1.png';\nimport book322_22 from '../../images/shopping/books_322_@2.png';\nimport book265_1 from '../../images/shopping/books_265_@1.webp';\nimport book265_2 from '../../images/shopping/books_265_@2.webp';\nimport book265_11 from '../../images/shopping/books_265_@1.png';\nimport book265_22 from '../../images/shopping/books_265_@2.png';\n\nexport default function emptySeeMoreBooksMarkup() {\n  return `\n    <p class=\"shopping-list-text\">Sorry. Could not find books of this category.</p>\n        <picture>\n            <source media=\"(min-width: 768px)\" srcset=\"\n                            ${book322_1} 1x,\n                            ${book322_2} 2x\n                            \" type=\"image/webp\" />\n            <source media=\"(min-width: 768px)\" srcset=\"\n                            ${book322_11} 1x,\n                            ${book322_22} 2x\n                            \" type=\"image/png\" />\n\n            <source media=\"(max-width: 767px)\" srcset=\"\n                            ${book265_1} 1x,\n                            ${book265_2} 2x\n                            \" type=\"image/webp\" />\n            <source media=\"(max-width: 767px)\" srcset=\"\n                            ${book265_11} 1x,\n                            ${book265_22} 2x\n                            \" type=\"image/png\" />\n\n            <img class=\"shopping-list-image\" src=\"${book265_1}\" alt=\"Books\" loading=\"lazy\" />\n        </picture>\n    `;\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2gN6y\")).toString();","export default function createCategoriesMarkup(bookInfo) {\n  const markup = bookInfo\n    .map(book => {\n      const { book_image, description, title, author, _id } = book;\n\n      return `\n\n<li class=\"category-list-item\">\n<a class=\"book-link\" href=\"\" data-id=\"${_id}\" aria-label=\"${title}\">\n<div class=\"book-thumb\">\n<img class=\"book-image\" src=\"${book_image}\" alt=\"${description}\" />\n<div class=\"book-overlay\">\n<p class=\"book-overlay-text\">quick view</p>\n</div>\n</div>\n<div class=\"book-card-content\">\n<h2 class=\"book-title\">${title}</h2>\n<p class=\"book-author\">${author}</p>\n</div>\n</a>\n</li>`;\n    })\n    .join('');\n  return markup;\n}\n","import { SwaggerAPI } from './swagger-api.js';\nimport { Notify } from 'notiflix';\nimport createBook from './templates/create-book.js';\nimport addListener from './modal-window.js';\nimport emptySeeMoreBooksMarkup from './templates/empty-category-markup';\nimport getBodyWidth from './components/onload.js';\n\nconst booksContainer = document.querySelector('.category-list');\nconst title = document.querySelector('.home-title');\nconst loader = document.querySelector('.click-loader');\nconst mainContent = document.querySelector('.main-content');\n\nconst bodyWidth = getBodyWidth();\n\nconst topBooksAPI = new SwaggerAPI();\n\ncreateBlock();\n\nasync function createBlock() {\n  try {\n    const { data } = await topBooksAPI.fetchTopBooks();\n\n    let randomCategoryNum = [];\n    function generateUniqueRandom(maxNr) {\n      let random = (Math.random() * maxNr).toFixed();\n\n      random = Number(random);\n\n      if (!randomCategoryNum.includes(random)) {\n        randomCategoryNum.push(random);\n        return;\n      } else {\n        if (randomCategoryNum.length < maxNr) {\n          return generateUniqueRandom(maxNr);\n        } else {\n          return false;\n        }\n      }\n    }\n\n    for (let i = 0; i < 4; i++) {\n      generateUniqueRandom(17);\n    }\n\n    randomCategoryNum.forEach(el => {\n      let topBooks = data[el].books;\n      let markUpCount = 0;\n\n      if (bodyWidth <= 767) {\n        markUpCount = 1;\n      }\n      if (bodyWidth >= 768 && bodyWidth < 1440) {\n        markUpCount = 3;\n      }\n      if (bodyWidth >= 1440) {\n        markUpCount = 5;\n      }\n\n      if (topBooks.length === 0) {\n        Notify.failure('There are no best sellers books in this category');\n        return;\n      }\n\n      const markup = `<li class=\"category-list-item top-list-item\">\n        <p class=\"category-name\" data-category-name=\"${\n          topBooks[0].list_name\n        }\">${topBooks[0].list_name}</p>\n        <ul class=\"books-list\">\n          ${createBook(topBooks.slice(0, markUpCount))}\n        </ul>\n       <button class=\"category-list-button\">see more</button>  \n      </li>`;\n\n      booksContainer.insertAdjacentHTML('beforeend', markup);\n      findBtn();\n    });\n  } catch (error) {\n    Notify.failure('Something went wrong. Please, try later.');\n  }\n  addListener();\n}\n\nfunction findBtn() {\n  const seeMoreBtnEls = document.querySelectorAll('.category-list-button');\n\n  seeMoreBtnEls.forEach(seeMoreBtn => {\n    seeMoreBtn.addEventListener('click', onSeeMoreBtnClick);\n  });\n}\n\nasync function onSeeMoreBtnClick(event) {\n  loader.classList.remove('click-is-hidden');\n  try {\n    setTimeout(async () => {\n      const name =\n        event.target.previousElementSibling.previousElementSibling.textContent;\n\n      topBooksAPI.categoryName = name;\n      const { data } = await topBooksAPI.fetchBooksByCategory();\n\n      if (data.length === 0) {\n        booksContainer.innerHTML = emptySeeMoreBooksMarkup();\n        return;\n      }\n\n      title.innerHTML = divideTitleElements(name);\n      booksContainer.classList.add('category-list-click');\n      booksContainer.innerHTML = createBook(data);\n      addActiveClassToCategoryListItem(name);\n      addListener();\n      mainContent.scrollIntoView({\n        behavior: 'smooth',\n      });\n      loader.classList.add('click-is-hidden');\n    }, 250);\n  } catch (error) {\n    Notify.failure('Something went wrong. Please, try later.');\n  }\n}\n\nfunction divideTitleElements(categoryName) {\n  const words = categoryName.split(' ');\n  const lastWord = words[words.length - 1];\n  const otherWords = words.slice(0, words.length - 1).join(' ');\n\n  return `<span class=\"home-title-decor\">${otherWords} </span>${lastWord}`;\n}\n\nfunction addActiveClassToCategoryListItem(name) {\n  const asideCategoryItems = document.querySelectorAll('.aside-item');\n  const allCategoriesTitle = document.querySelector('.aside-title');\n\n  asideCategoryItems.forEach(asideCategoryItem => {\n    if (name === asideCategoryItem.textContent) {\n      allCategoriesTitle.classList.toggle('active');\n      asideCategoryItem.classList.toggle('active');\n    }\n  });\n}\n","export default function createBook(bookInfo) {\n  const markup = bookInfo\n    .map(book => {\n      const { book_image, description, title, author, _id } = book;\n      return `<li class=\"books-list-item\">\n                 <a class=\"book-link\" href=\"\" data-id=\"${_id}\" aria-label=\"${title}\">\n                    <div class=\"book-thumb\">\n                      <img class=\"book-image\" src=\"${book_image}\" alt=\"${description}\" />\n\n                        <div class=\"book-overlay\">\n                       <p class=\"book-overlay-text\">quick view</p>\n                       </div>\n                       </div>                     \n                     <div class=\"book-card-content\">\n                     <h2 class=\"book-title\">${title}</h2>\n                     <p class=\"book-author\">${author}</p>\n                     </div>\n                 </a>                    \n              </li>`;\n    })\n    .join('');\n  return markup;\n}\n"],"names":["parcelRequire","register","JSON","parse","$b2XdZ","$0166347e9d285eb4$exports","URL","resolve","import","meta","url","toString","$b697ad5b837efdc7$exports","$ee4dde89113babfb$exports","$9aae7d6dea6fa164$exports","$4dc3978aff85ab9c$exports","$e3b6d6a2deb56fd1$exports","$17d0d2c1c6376cc2$exports","$b8c271bf8be6e2ee$exports","$1aa81d6d0cd85e48$var$fetchAPI","SwaggerAPI","$1aa81d6d0cd85e48$var$backdrop","document","querySelector","$1aa81d6d0cd85e48$var$closeBtn","$1aa81d6d0cd85e48$var$modalShoppingBtn","$1aa81d6d0cd85e48$var$modalInfo","$1aa81d6d0cd85e48$var$container","$1aa81d6d0cd85e48$var$progressBtn","$1aa81d6d0cd85e48$var$amazonPng","$parcel$interopDefault","$1aa81d6d0cd85e48$var$amazonWebp","$1aa81d6d0cd85e48$var$bookApi","$1aa81d6d0cd85e48$export$2e2bcd8739ae039","querySelectorAll","forEach","book","addEventListener","$1aa81d6d0cd85e48$var$onOpenModalWindow","async","event","preventDefault","$b5rV1","default","load","body","style","overflow","classList","add","toggle","$1aa81d6d0cd85e48$var$onBackdrop","window","$1aa81d6d0cd85e48$var$onEsc","$1aa81d6d0cd85e48$var$onCloseModalWindow","bookId","currentTarget","dataset","id","resp","fetchBookById","data","markup","book_image","title","author","list_name","description","buy_links","innerHTML","$1aa81d6d0cd85e48$var$createBookMarkup","setTimeout","storage","length","$1aa81d6d0cd85e48$var$addBtn","find","$1aa81d6d0cd85e48$var$removeBtn","$1aa81d6d0cd85e48$var$createShoppingBtn","$1aa81d6d0cd85e48$var$onUpdateShopList","$7Y9D8","Notify","failure","textContent","addBookToStorage","info","$lPDaB","countBook","ind","arr","splice","save","remove","$d6Hfx","updateDatabase","display","key","target","removeEventListener","$bbeeed93fb750c37$exports","$e9bfa1cc8305fd86$exports","$fcfaebf1208d70f5$exports","$15a12da09dde93f2$exports","$388ce3c24e22b049$exports","$edcbf47c215e1402$exports","$c809ce6ab5a6d539$exports","$68229a36e43cd23b$export$2e2bcd8739ae039","$814f554c0456a5df$exports","$8624f18deccb59bb$var$categoriesList","$8624f18deccb59bb$var$categoriesTitle","$8624f18deccb59bb$var$renderingCategories","$8624f18deccb59bb$var$loader","$8624f18deccb59bb$var$swaggerCategoriesApi","fetchBooksCategoryList","searchCategory","map","category","join","error","console","log","$8624f18deccb59bb$var$createCategoriesItem","$8624f18deccb59bb$var$activeCategoryLink","nodeName","value","categoryName","fetchBooksByCategory","words","split","lastWord","decoratedListName","slice","bookInfo","_id","scrollIntoView","behavior","createMarkupCategories","$1f74396456af3c8a$export$2e2bcd8739ae039","$866dea3744b84f28$var$booksContainer","$866dea3744b84f28$var$title","$866dea3744b84f28$var$loader","$866dea3744b84f28$var$mainContent","$866dea3744b84f28$var$bodyWidth","$1oMYZ","$866dea3744b84f28$var$topBooksAPI","$866dea3744b84f28$var$onSeeMoreBtnClick","name","previousElementSibling","$866dea3744b84f28$var$divideTitleElements","asideCategoryItems","allCategoriesTitle","asideCategoryItem","$866dea3744b84f28$var$addActiveClassToCategoryListItem","fetchTopBooks","randomCategoryNum","generateUniqueRandom","maxNr","random","Math","toFixed","Number","includes","push","i","el","topBooks","books","markUpCount","insertAdjacentHTML","seeMoreBtn","$866dea3744b84f28$var$createBlock"],"version":3,"file":"index.c30a5270.js.map"}